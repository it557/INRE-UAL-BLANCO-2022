@startuml supuesto3E-R

entity "Reserva" as Reserva{
    * idReserva : number
    nombre : text
    fecha : date
    duracion : number
    precio : number
    habitacion : number
}

entity "Reservas bloqueadas" as rb{
    * idReserva : number <<FK>>
    * idComercial : number <<FK>>
}

entity "Oferta" as Oferta{
    * idOferta : number
    nombre : text
    fechaInicio : date
    fechaFin : date
    precio : number
}

entity "Peticion" as Peticion{
    * idPeticion : number
    nombre : text
    fecha : date
}

entity "Cliente" as Cliente{
    * NIFCliente : number
    nombre : text
    edad : number
}

entity "Comercial" as Comercial{
    * NIFComercial : number
    nombre : text
    edad : number
    empresa : text
}

entity "Administrador" as Administrador{
    * NIFAdministrador : number
    nombre : text
    edad : number
}

entity "Disponibilidad" as Disponibilidad{
    * idDisponibilidad : number
    nrHabitacion : number
    fecha : date
}

entity "Compañía hotelera"{

}

entity "Hotel"{

}

entity "Habitacion"{
    * nrHabitacion : number
    planta : number
    tipo : text
}


Comercial ||--|{ Oferta
Comercial ||--|{ Reserva
Administrador ||--|{ Oferta
Administrador ||--|{ Peticion

Comercial ||--|{ rb
rb }|--|| Reserva


@enduml